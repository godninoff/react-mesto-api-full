{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ConfirmPopup.js","components/ImagePopup.js","utils/api.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/error-icon.svg","images/succes-icon.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","exact","path","to","email","onClick","onSignOut","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","name","link","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","title","onSubmit","children","buttonSaveText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","required","value","onChange","target","id","minLength","maxLength","placeholder","AddPlacePopup","setLink","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","ConfirmPopup","ImagePopup","api","address","headers","this","_address","_headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponseData","body","JSON","stringify","avatarData","authorization","ProtectedRoute","Component","component","loggedIn","Login","setEmail","password","setPassword","handleChange","evt","handleLogin","Register","handleRegister","InfoTooltip","success","successIcon","errorIcon","BASE_URL","getResponseData","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isSuccess","setIsSuccess","setLoggedIn","history","useHistory","closeAllPopups","all","getUserInfo","getInitialCards","userData","catch","console","log","localStorage","getItem","jwt","token","data","push","error","Provider","removeItem","removeCard","state","filter","c","changeLikeCardStatus","newCard","auth","setItem","setUserInfo","createCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d35b34d4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg'\r\nimport {Switch, Route, Link} from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n    return(\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Место\"/>\r\n            <Switch>\r\n                <Route exact path=\"/sign-in\">\r\n                    <Link className=\"header__link\" to=\"/sign-up\" >\r\n                        Регистрация\r\n                    </Link>\r\n                </Route>\r\n                <Route exact path=\"/sign-up\">\r\n                    <Link className=\"header__link\" to=\"/sign-in\" >\r\n                        Войти\r\n                    </Link>\r\n                </Route>\r\n                <Route  exact path=\"/\">\r\n                    <div className=\"header__user-auth\">\r\n                        <p className=\"header__user-email\">{props.email}</p>\r\n                        <Link \r\n                            className=\"header__link\" \r\n                            to=\"/sign-in\" \r\n                            onClick={props.onSignOut}>\r\n                        Выйти                \r\n                        </Link>\r\n                    </div>\r\n                </Route>\r\n            </Switch>\r\n        </header>\r\n    )\r\n}\r\nexport default Header","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__remove ${!isOwn && 'element__remove_hidden'}`\r\n      ); \r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `element__like ${isLiked ? 'element__like_toggle-active' : 'element__like'}`;  \r\n\r\n    function handleCardClick() {\r\n        onCardClick(card);\r\n      }  \r\n    \r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleCardDelete() {\r\n        onCardDelete(card);\r\n    } \r\n    \r\n    return( \r\n        <article className=\"element\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n            <img className=\"element__image\" alt={card.name} src={card.link} onClick={handleCardClick} /> \r\n            <div className=\"element__group\">\r\n                <h2 className=\"element__name\">{card.name}</h2>\r\n                <div className=\"element__like-field\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>  \r\n                    <p className=\"element__like-counter\">{card.likes.length > 0 ? card.likes.length : ''}</p>\r\n                </div>    \r\n            </div>\r\n        </article>\r\n    )\r\n}\r\nexport default Card","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\nreturn(\r\n    <main className=\"content\">\r\n    <section className=\"profile\">\r\n        <div className=\"profile__avatar-button\" onClick={props.onEditAvatar}>\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар пользователя\"/>\r\n        </div>    \r\n        <div className=\"profile__info\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"profile__button-edit\" onClick={props.onEditProfile}></button>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\r\n    </section>\r\n\r\n    <section className=\"elements\">\r\n        {props.cards.map((card) => (\r\n            <Card \r\n                card={card} \r\n                key={card._id} \r\n                onCardDelete={props.onCardDelete} \r\n                onCardLike={props.onCardLike} \r\n                onCardClick={props.onCardClick} \r\n            />\r\n        ))}\r\n    </section>\r\n    </main> \r\n)\r\n}\r\n\r\nexport default Main;\r\n\r\n","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">© {(new Date().getFullYear())} Mesto Russia</p>  \r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return(\r\n        <div className={`popup ${props.isOpen ? \"popup_visible\" : \"\"}`}>\r\n        <div className=\"popup__container\">\r\n            <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose} >&times;</button>\r\n            <h2 className=\"popup__title\">{props.title}</h2>\r\n            <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit} >\r\n            {props.children}\r\n                <button className=\"popup__save-button\" type=\"submit\" >{props.buttonSaveText}</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\nexport default PopupWithForm","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    function handleChangeUserName(e) {\r\n        setName(e.target.value);\r\n      }\r\n\r\n    function handleChangeUserDescription(e) {\r\n        setDescription(e.target.value);\r\n      } \r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n    });\r\n    }   \r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n        }, [currentUser, props.isOpen]);  \r\n\r\n    return(\r\n        <PopupWithForm \r\n            name=\"popup_edit\" \r\n            title=\"Редактировать профиль\" \r\n            buttonSaveText=\"Сохранить\" \r\n            onSubmit={handleSubmit} \r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose}\r\n        >\r\n            <input \r\n                required \r\n                value={name || ''} \r\n                onChange={handleChangeUserName} \r\n                className=\"popup__input popup__input_type_name\" \r\n                name=\"name\" \r\n                id=\"name-input\" \r\n                type=\"text\" \r\n                minLength=\"2\" \r\n                maxLength=\"40\" \r\n                placeholder=\"Имя\" \r\n            />\r\n            <span className=\"popup__form-error name-input-error\"></span>\r\n            <input \r\n                required \r\n                value={description|| ''} \r\n                onChange={handleChangeUserDescription} \r\n                className=\"popup__input popup__input_type_description\" \r\n                name=\"about\" \r\n                id=\"description-input\" \r\n                type=\"text\" \r\n                minLength=\"2\" \r\n                maxLength=\"200\" \r\n                placeholder=\"Вид деятельности\" \r\n            />\r\n            <span className=\"popup__form-error description-input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName('');\r\n        setLink('');\r\n    },[props.isOpen]);\r\n\r\n    function handleNewCardName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleNewCardLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace(name, link);\r\n    }\r\n\r\n    return(\r\n    <PopupWithForm \r\n        name=\"popup_add-card\" \r\n        title=\"Новое место\" \r\n        buttonSaveText=\"Создать\" \r\n        isOpen={props.isOpen} \r\n        onClose={props.onClose} \r\n        onSubmit={handleSubmit} \r\n    >\r\n        <input \r\n            required \r\n            className=\"popup__input popup__input_type_name-element\" \r\n            name=\"name\" \r\n            value={name || ''} \r\n            onChange={handleNewCardName} \r\n            id=\"place-input\" \r\n            type=\"text\" \r\n            minLength=\"2\" \r\n            maxLength=\"30\" \r\n            placeholder=\"Название\" \r\n        />\r\n        <span className=\"popup__form-error place-input-error\"></span>\r\n        <input \r\n            required \r\n            className=\"popup__input popup__input_type_link\" \r\n            name=\"link\" \r\n            value={link || ''} \r\n            onChange={handleNewCardLink} \r\n            id=\"url-input\" \r\n            type=\"url\" \r\n            placeholder=\"Ссылка на картинку\" \r\n        />\r\n        <span className=\"popup__form-error url-input-error\"></span>\r\n    </PopupWithForm>  \r\n    )\r\n}\r\nexport default AddPlacePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef();\r\n\r\n    React.useEffect(() => {\r\n      (avatarRef.current.value = '')\r\n  },[props.isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        props.onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n      }\r\n\r\n    return(\r\n    <PopupWithForm \r\n      name=\"popup_update-avatar\" \r\n      title=\"Обновить аватар\" \r\n      buttonSaveText=\"Сохранить\" \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose} \r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input \r\n        required \r\n        className=\"popup__input popup__input_type_avatar-link\" \r\n        name=\"avatar\" \r\n        id=\"avatar-input\" \r\n        type=\"url\" \r\n        placeholder=\"Ссылка на новый аватар\" \r\n        ref={avatarRef}\r\n      />\r\n        <span className=\"popup__form-error avatar-input-error\"></span>\r\n    </PopupWithForm> \r\n    )\r\n}\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup(props) {\r\n    return(\r\n        <PopupWithForm \r\n            name=\"popup_confirm\" \r\n            title=\"Вы уверены?\" \r\n            buttonSaveText=\"Да\" \r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose}\r\n        />\r\n    )\r\n}\r\nexport default ConfirmPopup","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return(\r\n        <div className={`popup ${props.card ? \"popup_visible\" : \"\"}`}>\r\n        <div className=\"popup__opened\">\r\n            <button \r\n                className=\"popup__close-button popup__close-button_card-open\" \r\n                type=\"button\" \r\n                onClick={props.onClose}\r\n            >&times;</button>\r\n            <img className=\"popup__image\" alt={props.card.name} src={props.card.link} />\r\n            <p className=\"popup__caption\">{props.card.name}</p>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\nexport default ImagePopup","class Api {\r\n    constructor({address, headers}) {\r\n        this._address = address;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`); \r\n        }\r\n        return res.json();\r\n      }\r\n\r\ngetUserInfo() {\r\n    return fetch(`${this._address}/users/me`, {\r\n        method: 'GET',\r\n        headers: this._headers\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\ngetInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n        method: 'GET',\r\n        headers: this._headers\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\nsetUserInfo(name, about) {\r\n    return fetch(`${this._address}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n            name: name,\r\n            about: about\r\n        })\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\ncreateCard(name, link) {\r\n    return fetch(`${this._address}/cards`, {\r\n        method: 'POST',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n            name: name,\r\n            link: link\r\n        })\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\nremoveCard(id) {\r\n    return fetch(`${this._address}/cards/${id}`, {\r\n        method: 'DELETE',\r\n        headers: this._headers,\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\nchangeLikeCardStatus(id, isLiked) {\r\n    return fetch(`${this._address}/cards/likes/${id}`, {\r\n        method: isLiked ? 'PUT' : 'DELETE',\r\n        headers: this._headers,\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\nsetUserAvatar(avatarData) {\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n            avatar: avatarData.avatar\r\n        })\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n};\r\n\r\nconst api = new Api ({\r\n    address: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n    headers: {\r\n    authorization: '680bd78d-11d7-4092-977f-23afe781bd9e',\r\n    'Content-Type': 'application/json'\r\n    },\r\n  });\r\n  \r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./login\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","import React, { useState } from 'react';\r\n\r\nfunction Login(props) {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        if(!email || !password) {\r\n            return;\r\n        }\r\n        props.handleLogin(email, password);\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    function handleChange(evt) {\r\n        evt.preventDefault();\r\n        if(evt.target.name === 'email') {\r\n            setEmail(evt.target.value);\r\n        } else if(evt.target.name ==='password') {\r\n            setPassword(evt.target.value);\r\n        }\r\n\r\n    }\r\n\r\nreturn (\r\n    <main className=\"content\">\r\n        <section className=\"sign-in\">\r\n            <h2 className=\"login__title\">Вход</h2>\r\n            <form \r\n                className=\"sign__form\"\r\n                name=\"sign-in\" \r\n                onSubmit={handleSubmit}\r\n            >\r\n                <input \r\n                    className=\"sign__input\" \r\n                    type=\"email\" \r\n                    placeholder=\"Email\" \r\n                    name=\"email\" \r\n                    onChange={handleChange} \r\n                    value={email} \r\n                    id=\"email\"\r\n                    required \r\n                />\r\n                <span className=\"form__input-error\"></span>\r\n                <input \r\n                    className=\"sign__input\" \r\n                    type=\"password\" \r\n                    placeholder=\"Пароль\" \r\n                    name=\"password\" \r\n                    onChange={handleChange} \r\n                    value={password} \r\n                    id=\"password\"\r\n                    required \r\n                />\r\n                <span className=\"form__input-error\"></span>\r\n                <button \r\n                    className=\"sign__enter-button\" \r\n                    type=\"submit\" \r\n                    name=\"submit\">Войти\r\n                </button>\r\n            </form>\r\n        </section>\r\n    </main>\r\n)\r\n}\r\nexport default Login;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleChange(evt) {\r\n        evt.preventDefault();\r\n        if(evt.target.name === 'email') {\r\n            setEmail(evt.target.value);\r\n        } else if(evt.target.name ==='password') {\r\n            setPassword(evt.target.value);\r\n        }\r\n\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.handleRegister(email, password);\r\n    }\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"sign-up\">\r\n            <h2 className=\"login__title\">Регистрация</h2>\r\n            <form \r\n                className=\"sign__form\" \r\n                name=\"sign-up\" \r\n                onSubmit={handleSubmit}\r\n            >\r\n                <input \r\n                    className=\"sign__input\" \r\n                    type=\"email\" \r\n                    placeholder=\"Email\" \r\n                    name=\"email\" \r\n                    onChange={handleChange} \r\n                    value={email} \r\n                    id=\"email\"\r\n                    required \r\n                />\r\n                <span className=\"form__input-error\"></span>\r\n                <input \r\n                    className=\"sign__input\" \r\n                    type=\"password\" \r\n                    placeholder=\"Пароль\" \r\n                    name=\"password\" \r\n                    onChange={handleChange} \r\n                    value={password} \r\n                    id=\"password\"\r\n                    required \r\n                />\r\n                <span className=\"form__input-error\"></span>\r\n                <button \r\n                    className=\"sign__enter-button\" \r\n                    type=\"submit\" \r\n                    name=\"submit\">Зарегистрироваться\r\n                </button>\r\n                <p className=\"sign__form-bottom-text\">\r\n                    <Link to=\"/sign-in\" className=\"sign__form-bottom-link header__link\">\r\n                        Уже зарегистрированы? Войти\r\n                    </Link>\r\n                </p>\r\n            </form>\r\n\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/error-icon.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/succes-icon.1b6082f8.svg\";","import React from 'react';\r\nimport errorIcon from '../images/error-icon.svg';\r\nimport successIcon from '../images/succes-icon.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <div className={`popup ${props.isOpen ? \"popup_visible\" : \"\"}`}>\r\n        <div className=\"popup__container\">\r\n            <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose} >&times;</button>\r\n\r\n            <div className=\"popup__authorization\">\r\n                <img className=\"popup__authorization-icon\" src={props.success ? successIcon : errorIcon} alt=\"Значек авторизации\" />\r\n                <p className=\"popup__authorization-text\">{props.success ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nfunction getResponseData(res) {\r\n    if(res.ok) {\r\n        return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`); \r\n}\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n    .then(getResponseData)\r\n};\r\n\r\nexport const authorization = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n    .then(getResponseData)\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(getResponseData)\r\n  }\r\n\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'; \r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction App() {\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n    const [selectedCard, setSelectedCard] = React.useState(null);\r\n    const [currentUser, setCurrentUser] = React.useState({});\r\n    const [cards, setCards] = React.useState([]);\r\n    const [isSuccess, setIsSuccess] = React.useState(false);\r\n    const [loggedIn, setLoggedIn] = React.useState(false);\r\n    const [email, setEmail] = React.useState('');\r\n    const history = useHistory();\r\n\r\n    React.useEffect(() => {\r\n        Promise.all([\r\n            api.getUserInfo(), \r\n            api.getInitialCards()\r\n        ])\r\n            .then(([userData, cards]) => {\r\n                setCurrentUser(userData);\r\n                setCards(cards);\r\n            }).catch((e) => console.log(e));\r\n    },[]);\r\n\r\n    React.useEffect(() => {\r\n        if(localStorage.getItem(\"jwt\")) {\r\n        const jwt = localStorage.getItem(\"jwt\");\r\n        auth.checkToken(jwt).then((res) => {\r\n            if(res) {\r\n                setEmail(res.data.email);\r\n            }\r\n            setLoggedIn(true);\r\n            history.push(\"/\");\r\n        }).catch((e) => {\r\n            console.error(e);\r\n            setIsInfoTooltipOpen(true);       \r\n        })\r\n    }\r\n    }, []);\r\n\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n        api.changeLikeCardStatus(card._id, !isLiked)\r\n        .then((newCard) => {\r\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        }).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleCardRemove(card) {\r\n        api.removeCard(card._id)\r\n        .then(() => {\r\n            setCards((state) => state.filter((c) => c._id !== card._id));\r\n        }).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleUpdateUser({name, about}) {\r\n        api.setUserInfo(name, about)\r\n        .then((res) => {\r\n            setCurrentUser(res);\r\n            closeAllPopups();\r\n        }).catch((e) => console.log(e));   \r\n    }\r\n\r\n    function handleUpdateAvatar(avatarData) {\r\n        api.setUserAvatar(avatarData)\r\n        .then((res) => {\r\n            setCurrentUser(res);\r\n            closeAllPopups(); \r\n        }).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleAddPlaceSubmit(name, link) {\r\n        api.createCard(name, link)\r\n        .then((res) => {\r\n            setCards([res, ...cards]);\r\n            closeAllPopups();  \r\n        }).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    function handleCardClick(card) {\r\n        setSelectedCard(card);\r\n    }\r\n\r\n    function closeAllPopups() {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsInfoTooltipOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setSelectedCard(null);\r\n    }\r\n\r\n    function handleRegisterSubmit(email, password) {\r\n        auth.register(email, password)\r\n            .then((data) => {\r\n                if(data) {\r\n                    localStorage.setItem(\"jwt\", data.jwt);\r\n                    setEmail(data.data.email);\r\n                }\r\n                history.push(\"/sign-in\");\r\n                setIsSuccess(true);\r\n                setIsInfoTooltipOpen(true);    \r\n            })\r\n            .catch((e) => {\r\n                console.error(e);\r\n                setIsSuccess(false);\r\n                setIsInfoTooltipOpen(true);    \r\n            })\r\n    }\r\n\r\n    function handleLoginSubmit(email, password) {\r\n        return auth\r\n            .authorization(email, password)\r\n            .then((data) => {\r\n                localStorage.setItem(\"jwt\", data.token);\r\n                setEmail(email);\r\n                setLoggedIn(true);\r\n                history.push(\"/\");\r\n            }).catch((e) => {\r\n                console.error(e);\r\n                setIsInfoTooltipOpen(true); \r\n            })\r\n    }\r\n\r\n    function handleLogout() {\r\n        localStorage.removeItem(\"jwt\");\r\n        setEmail('');\r\n        setLoggedIn(false);\r\n        history.push(\"/sign-in\");\r\n    }\r\n\r\n  return (\r\n    \r\n    <div className=\"root\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <Header email={email} loggedIn={loggedIn} onSignOut={handleLogout} />  \r\n            <Switch>\r\n                <ProtectedRoute \r\n                    exact\r\n                    path=\"/\"\r\n                    component={Main}\r\n                    onCardDelete={handleCardRemove} \r\n                    onCardLike={handleCardLike} \r\n                    onCardClick={handleCardClick} \r\n                    onEditAvatar={handleEditAvatarClick} \r\n                    onEditProfile={handleEditProfileClick} \r\n                    onAddPlace={handleAddPlaceClick} \r\n                    cards={cards}\r\n                    loggedIn={loggedIn} \r\n                />\r\n                <Route path=\"/sign-up\">\r\n                    <Register handleRegister={handleRegisterSubmit} />\r\n                </Route>\r\n                <Route path=\"/sign-in\">\r\n                    <Login handleLogin={handleLoginSubmit} />\r\n                </Route>\r\n                <Route>\r\n                    {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n                </Route>\r\n            </Switch> \r\n            <EditProfilePopup \r\n                onUpdateUser={handleUpdateUser}  \r\n                isOpen={isEditProfilePopupOpen} \r\n                onClose={closeAllPopups} \r\n            />\r\n            <AddPlacePopup \r\n                onAddPlace={handleAddPlaceSubmit} \r\n                isOpen={isAddPlacePopupOpen} \r\n                onClose={closeAllPopups} \r\n            />\r\n            <EditAvatarPopup \r\n                isOpen={isEditAvatarPopupOpen} \r\n                onClose={closeAllPopups} \r\n                onUpdateAvatar={handleUpdateAvatar} \r\n            />\r\n            <ConfirmPopup />\r\n            <ImagePopup \r\n                card={selectedCard !== null && selectedCard} \r\n                onClose={closeAllPopups} \r\n            />\r\n            <InfoTooltip \r\n                isOpen={isInfoTooltipOpen}\r\n                onClose={closeAllPopups}\r\n                success={isSuccess}\r\n            />\r\n\r\n            <Footer /> \r\n        </CurrentUserContext.Provider>\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}