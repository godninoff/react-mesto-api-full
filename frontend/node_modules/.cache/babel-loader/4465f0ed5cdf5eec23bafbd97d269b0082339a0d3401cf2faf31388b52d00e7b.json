{"ast":null,"code":"import React from\"react\";import{useAppDispatch,useAppSelector}from\"../store/hooks\";import{isAddPlacePopupOpen,isEditAvatarPopupOpen,isEditProfilePopupOpen}from\"../store/popupReducer\";import EditProfilePopup from\"./EditProfilePopup\";import{useGetUserInfoQuery}from\"../store/api/actionsApi\";import EditAvatarPopup from\"./EditAvatarPopup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var dispatch=useAppDispatch();var id=useAppSelector(function(state){return state.auth.id;});var _useGetUserInfoQuery=useGetUserInfoQuery(id),data=_useGetUserInfoQuery.data,isSuccess=_useGetUserInfoQuery.isSuccess;console.log(data);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-button\",onClick:function onClick(){return dispatch(isEditAvatarPopupOpen());},children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:data===null||data===void 0?void 0:data.avatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__title\",children:data===null||data===void 0?void 0:data.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__button-edit\",onClick:function onClick(){return dispatch(isEditProfilePopupOpen());}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__subtitle\",children:data===null||data===void 0?void 0:data.about})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:function onClick(){return dispatch(isAddPlacePopupOpen());}})]}),/*#__PURE__*/_jsx(EditProfilePopup,{}),/*#__PURE__*/_jsx(EditAvatarPopup,{})]});};export default Main;","map":{"version":3,"names":["React","useAppDispatch","useAppSelector","isAddPlacePopupOpen","isEditAvatarPopupOpen","isEditProfilePopupOpen","EditProfilePopup","useGetUserInfoQuery","EditAvatarPopup","jsx","_jsx","jsxs","_jsxs","Main","dispatch","id","state","auth","_useGetUserInfoQuery","data","isSuccess","console","log","className","children","onClick","src","avatar","alt","style","display","flexDirection","name","type","about"],"sources":["C:/dev/projects/react-mesto-api-full/frontend/src/components/Main.tsx"],"sourcesContent":["import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { useGetUserQuery } from \"../store/api/authApi\";\r\nimport { useAppDispatch, useAppSelector } from \"../store/hooks\";\r\nimport {\r\n  closeAllPopups,\r\n  isAddPlacePopupOpen,\r\n  isEditAvatarPopupOpen,\r\n  isEditProfilePopupOpen,\r\n} from \"../store/popupReducer\";\r\nimport { getUserData } from \"../store/authSlice\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport { useGetUserInfoQuery } from \"../store/api/actionsApi\";\r\nimport { getUserInfo } from \"../store/userInfoSlice\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\n\r\nconst Main = () => {\r\n  const dispatch = useAppDispatch();\r\n  const id = useAppSelector((state) => state.auth.id);\r\n  const { data, isSuccess } = useGetUserInfoQuery(id);\r\n\r\n  console.log(data);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div\r\n          className=\"profile__avatar-button\"\r\n          onClick={() => dispatch(isEditAvatarPopupOpen())}\r\n        >\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={data?.avatar}\r\n            alt=\"Аватар пользователя\"\r\n          />\r\n        </div>\r\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__title\">{data?.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__button-edit\"\r\n              onClick={() => dispatch(isEditProfilePopupOpen())}\r\n            />\r\n          </div>\r\n          <p className=\"profile__subtitle\">{data?.about}</p>\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={() => dispatch(isAddPlacePopupOpen())}\r\n        ></button>\r\n      </section>\r\n\r\n      {/* <section className=\"elements\">\r\n        {props.cards.map((card) => (\r\n          <Card\r\n            card={card}\r\n            key={card._id}\r\n            onCardDelete={props.onCardDelete}\r\n            onCardLike={props.onCardLike}\r\n            onCardClick={props.onCardClick}\r\n          />\r\n        ))}\r\n      </section> */}\r\n      <EditProfilePopup />\r\n      <EditAvatarPopup />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAIzB,OAASC,cAAc,CAAEC,cAAc,KAAQ,gBAAgB,CAC/D,OAEEC,mBAAmB,CACnBC,qBAAqB,CACrBC,sBAAsB,KACjB,uBAAuB,CAG9B,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,OAASC,mBAAmB,KAAQ,yBAAyB,CAE7D,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CACjB,GAAM,CAAAC,QAAQ,CAAGb,cAAc,EAAE,CACjC,GAAM,CAAAc,EAAE,CAAGb,cAAc,CAAC,SAACc,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,CAACF,EAAE,GAAC,CACnD,IAAAG,oBAAA,CAA4BX,mBAAmB,CAACQ,EAAE,CAAC,CAA3CI,IAAI,CAAAD,oBAAA,CAAJC,IAAI,CAAEC,SAAS,CAAAF,oBAAA,CAATE,SAAS,CAEvBC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CAEjB,mBACEP,KAAA,SAAMW,SAAS,CAAC,SAAS,CAAAC,QAAA,eACvBZ,KAAA,YAASW,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC1Bd,IAAA,QACEa,SAAS,CAAC,wBAAwB,CAClCE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAX,QAAQ,CAACV,qBAAqB,EAAE,CAAC,EAAC,CAAAoB,QAAA,cAEjDd,IAAA,QACEa,SAAS,CAAC,iBAAiB,CAC3BG,GAAG,CAAEP,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEQ,MAAO,CAClBC,GAAG,CAAC,+GAAqB,EACzB,EACE,cACNhB,KAAA,QAAKiB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAS,CAAE,CAAAP,QAAA,eACvDZ,KAAA,QAAKW,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5Bd,IAAA,OAAIa,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAEL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEa,IAAI,EAAM,cAChDtB,IAAA,WACEuB,IAAI,CAAC,QAAQ,CACbV,SAAS,CAAC,sBAAsB,CAChCE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAX,QAAQ,CAACT,sBAAsB,EAAE,CAAC,EAAC,EAClD,GACE,cACNK,IAAA,MAAGa,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEe,KAAK,EAAK,GAC9C,cAENxB,IAAA,WACEuB,IAAI,CAAC,QAAQ,CACbV,SAAS,CAAC,qBAAqB,CAC/BE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAX,QAAQ,CAACX,mBAAmB,EAAE,CAAC,EAAC,EACvC,GACF,cAaVO,IAAA,CAACJ,gBAAgB,IAAG,cACpBI,IAAA,CAACF,eAAe,IAAG,GACd,CAEX,CAAC,CAED,cAAe,CAAAK,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}