{"ast":null,"code":"import _classCallCheck from\"C:/Users/godni/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/godni/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(_ref){var address=_ref.address,headers=_ref.headers;_classCallCheck(this,Api);this._address=address;this._headers=headers;}_createClass(Api,[{key:\"_getResponseData\",value:function _getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}},{key:\"getUserInfo\",value:function getUserInfo(){var _this=this;return fetch(\"\".concat(this._address,\"/users/me\"),{method:'GET',headers:this._headers}).then(function(res){return _this._getResponseData(res);});}},{key:\"getInitialCards\",value:function getInitialCards(){var _this2=this;return fetch(\"\".concat(this._address,\"/cards\"),{method:'GET',headers:this._headers}).then(function(res){return _this2._getResponseData(res);});}},{key:\"setUserInfo\",value:function setUserInfo(name,about){var _this3=this;return fetch(\"\".concat(this._address,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(function(res){return _this3._getResponseData(res);});}},{key:\"createCard\",value:function createCard(name,link){var _this4=this;return fetch(\"\".concat(this._address,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(function(res){return _this4._getResponseData(res);});}},{key:\"removeCard\",value:function removeCard(id){var _this5=this;return fetch(\"\".concat(this._address,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(function(res){return _this5._getResponseData(res);});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,isLiked){var _this6=this;return fetch(\"\".concat(this._address,\"/cards/likes/\").concat(id),{method:isLiked?'PUT':'DELETE',headers:this._headers}).then(function(res){return _this6._getResponseData(res);});}},{key:\"setUserAvatar\",value:function setUserAvatar(avatarData){var _this7=this;return fetch(\"\".concat(this._address,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatarData.avatar})}).then(function(res){return _this7._getResponseData(res);});}}]);return Api;}();;var api=new Api({address:'https://mesto.nomoreparties.co/v1/cohort-24',headers:{authorization:'680bd78d-11d7-4092-977f-23afe781bd9e','Content-Type':'application/json'}});export default api;","map":{"version":3,"sources":["C:/Users/godni/dev/mesto-react/src/utils/api.js"],"names":["Api","address","headers","_address","_headers","res","ok","Promise","reject","status","json","fetch","method","then","_getResponseData","name","about","body","JSON","stringify","link","id","isLiked","avatarData","avatar","api","authorization"],"mappings":"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","sourcesContent":["class Api {\r\n    constructor({address, headers}) {\r\n        this._address = address;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`); \r\n        }\r\n        return res.json();\r\n      }\r\n\r\ngetUserInfo() {\r\n    return fetch(`${this._address}/users/me`, {\r\n        method: 'GET',\r\n        headers: this._headers\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\ngetInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n        method: 'GET',\r\n        headers: this._headers\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\nsetUserInfo(name, about) {\r\n    return fetch(`${this._address}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n            name: name,\r\n            about: about\r\n        })\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\ncreateCard(name, link) {\r\n    return fetch(`${this._address}/cards`, {\r\n        method: 'POST',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n            name: name,\r\n            link: link\r\n        })\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\nremoveCard(id) {\r\n    return fetch(`${this._address}/cards/${id}`, {\r\n        method: 'DELETE',\r\n        headers: this._headers,\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\nchangeLikeCardStatus(id, isLiked) {\r\n    return fetch(`${this._address}/cards/likes/${id}`, {\r\n        method: isLiked ? 'PUT' : 'DELETE',\r\n        headers: this._headers,\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n\r\nsetUserAvatar(avatarData) {\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n            avatar: avatarData.avatar\r\n        })\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n}\r\n};\r\n\r\nconst api = new Api ({\r\n    address: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n    headers: {\r\n    authorization: '680bd78d-11d7-4092-977f-23afe781bd9e',\r\n    'Content-Type': 'application/json'\r\n    },\r\n  });\r\n  \r\n\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}