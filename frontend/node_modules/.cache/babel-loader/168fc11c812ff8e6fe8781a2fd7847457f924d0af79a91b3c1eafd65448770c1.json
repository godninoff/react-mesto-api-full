{"ast":null,"code":"import React from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{useAppDispatch,useAppSelector}from\"../store/hooks\";import{changePopupState}from\"../store/popupReducer\";import EditProfilePopup from\"./EditProfilePopup\";import{useGetUserInfoQuery}from\"../store/api/actionsApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var currentUser=React.useContext(CurrentUserContext);var userId=useAppSelector(function(state){return state.auth.userId;});var popup=useAppSelector(function(state){return state.popup.popupIsOpen;});var dispatch=useAppDispatch();var _useGetUserInfoQuery=useGetUserInfoQuery(userId),data=_useGetUserInfoQuery.data,isSuccess=_useGetUserInfoQuery.isSuccess;console.log(popup);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-button\",onClick:function onClick(){return dispatch(changePopupState());},children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:data===null||data===void 0?void 0:data.avatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__title\",children:data===null||data===void 0?void 0:data.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__button-edit\",onClick:function onClick(){return dispatch(changePopupState());}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__subtitle\",children:data===null||data===void 0?void 0:data.about})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:function onClick(){return dispatch(changePopupState());}})]}),/*#__PURE__*/_jsx(EditProfilePopup,{})]});};export default Main;","map":{"version":3,"names":["React","CurrentUserContext","useAppDispatch","useAppSelector","changePopupState","EditProfilePopup","useGetUserInfoQuery","jsx","_jsx","jsxs","_jsxs","Main","currentUser","useContext","userId","state","auth","popup","popupIsOpen","dispatch","_useGetUserInfoQuery","data","isSuccess","console","log","className","children","onClick","src","avatar","alt","style","display","flexDirection","name","type","about"],"sources":["C:/dev/projects/react-mesto-api-full/frontend/src/components/Main.tsx"],"sourcesContent":["import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { useGetUserQuery } from \"../store/api/authApi\";\r\nimport { useAppDispatch, useAppSelector } from \"../store/hooks\";\r\nimport { changePopupState } from \"../store/popupReducer\";\r\nimport { getUserData } from \"../store/authSlice\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport { useGetUserInfoQuery } from \"../store/api/actionsApi\";\r\n\r\nconst Main = () => {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const userId = useAppSelector((state) => state.auth.userId);\r\n  const popup = useAppSelector((state) => state.popup.popupIsOpen);\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { data, isSuccess } = useGetUserInfoQuery(userId);\r\n\r\n  console.log(popup);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div\r\n          className=\"profile__avatar-button\"\r\n          onClick={() => dispatch(changePopupState())}\r\n        >\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={data?.avatar}\r\n            alt=\"Аватар пользователя\"\r\n          />\r\n        </div>\r\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__title\">{data?.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__button-edit\"\r\n              onClick={() => dispatch(changePopupState())}\r\n            />\r\n          </div>\r\n          <p className=\"profile__subtitle\">{data?.about}</p>\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={() => dispatch(changePopupState())}\r\n        ></button>\r\n      </section>\r\n\r\n      {/* <section className=\"elements\">\r\n        {props.cards.map((card) => (\r\n          <Card\r\n            card={card}\r\n            key={card._id}\r\n            onCardDelete={props.onCardDelete}\r\n            onCardLike={props.onCardLike}\r\n            onCardClick={props.onCardClick}\r\n          />\r\n        ))}\r\n      </section> */}\r\n      <EditProfilePopup />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,kBAAkB,KAAQ,gCAAgC,CAEnE,OAASC,cAAc,CAAEC,cAAc,KAAQ,gBAAgB,CAC/D,OAASC,gBAAgB,KAAQ,uBAAuB,CAGxD,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,OAASC,mBAAmB,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9D,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CACjB,GAAM,CAAAC,WAAW,CAAGZ,KAAK,CAACa,UAAU,CAACZ,kBAAkB,CAAC,CACxD,GAAM,CAAAa,MAAM,CAAGX,cAAc,CAAC,SAACY,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,CAACF,MAAM,GAAC,CAC3D,GAAM,CAAAG,KAAK,CAAGd,cAAc,CAAC,SAACY,KAAK,QAAK,CAAAA,KAAK,CAACE,KAAK,CAACC,WAAW,GAAC,CAChE,GAAM,CAAAC,QAAQ,CAAGjB,cAAc,EAAE,CAEjC,IAAAkB,oBAAA,CAA4Bd,mBAAmB,CAACQ,MAAM,CAAC,CAA/CO,IAAI,CAAAD,oBAAA,CAAJC,IAAI,CAAEC,SAAS,CAAAF,oBAAA,CAATE,SAAS,CAEvBC,OAAO,CAACC,GAAG,CAACP,KAAK,CAAC,CAElB,mBACEP,KAAA,SAAMe,SAAS,CAAC,SAAS,CAAAC,QAAA,eACvBhB,KAAA,YAASe,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC1BlB,IAAA,QACEiB,SAAS,CAAC,wBAAwB,CAClCE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAR,QAAQ,CAACf,gBAAgB,EAAE,CAAC,EAAC,CAAAsB,QAAA,cAE5ClB,IAAA,QACEiB,SAAS,CAAC,iBAAiB,CAC3BG,GAAG,CAAEP,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEQ,MAAO,CAClBC,GAAG,CAAC,+GAAqB,EACzB,EACE,cACNpB,KAAA,QAAKqB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAS,CAAE,CAAAP,QAAA,eACvDhB,KAAA,QAAKe,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlB,IAAA,OAAIiB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAEL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEa,IAAI,EAAM,cAChD1B,IAAA,WACE2B,IAAI,CAAC,QAAQ,CACbV,SAAS,CAAC,sBAAsB,CAChCE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAR,QAAQ,CAACf,gBAAgB,EAAE,CAAC,EAAC,EAC5C,GACE,cACNI,IAAA,MAAGiB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEe,KAAK,EAAK,GAC9C,cAEN5B,IAAA,WACE2B,IAAI,CAAC,QAAQ,CACbV,SAAS,CAAC,qBAAqB,CAC/BE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAR,QAAQ,CAACf,gBAAgB,EAAE,CAAC,EAAC,EACpC,GACF,cAaVI,IAAA,CAACH,gBAAgB,IAAG,GACf,CAEX,CAAC,CAED,cAAe,CAAAM,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}